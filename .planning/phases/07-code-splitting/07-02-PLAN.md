---
phase: 07-code-splitting
plan: 02
type: execute
wave: 1
depends_on: ["07-01"]
files_modified:
  - data/experience.ts
  - components/sections/experience-timeline.tsx
  - components/sections/metrics-section.tsx
  - app/page.tsx
autonomous: true
gap_closure: true

must_haves:
  truths:
    - "Experience timeline section is importable from components/sections/experience-timeline.tsx"
    - "Metrics section is importable from components/sections/metrics-section.tsx"
    - "Experience data is importable from data/experience.ts"
    - "page.tsx is under 400 lines"
    - "Application renders identically to before"
  artifacts:
    - path: "data/experience.ts"
      provides: "Experience timeline data array with ExperienceItem type"
      exports: ["experienceData", "ExperienceItem"]
    - path: "components/sections/experience-timeline.tsx"
      provides: "Experience timeline section component"
      exports: ["ExperienceTimeline"]
    - path: "components/sections/metrics-section.tsx"
      provides: "Metrics cards section component"
      exports: ["MetricsSection"]
    - path: "app/page.tsx"
      provides: "Main page under 400 lines with section imports"
      max_lines: 400
  key_links:
    - from: "app/page.tsx"
      to: "components/sections/experience-timeline.tsx"
      via: "default or named import"
      pattern: "import.*ExperienceTimeline.*from.*components/sections/experience-timeline"
    - from: "app/page.tsx"
      to: "components/sections/metrics-section.tsx"
      via: "default or named import"
      pattern: "import.*MetricsSection.*from.*components/sections/metrics-section"
    - from: "components/sections/experience-timeline.tsx"
      to: "data/experience.ts"
      via: "named import"
      pattern: "import.*experienceData.*from.*data/experience"
---

<objective>
Close the line count gap by extracting additional sections from page.tsx to reach the under-400-lines target.

Purpose: Phase 7 verification found page.tsx at 520 lines (30% over 400-line target). All specified components were extracted in plan 01, but large inline JSX sections remain. This gap closure extracts two more sections to achieve the original maintainability goal.

Output: 3 new files (1 data, 2 section components) and page.tsx under 400 lines.
</objective>

<execution_context>
@/Users/sunny/.claude/get-shit-done/workflows/execute-plan.md
@/Users/sunny/.claude/get-shit-done/templates/summary.md
</execution_context>

<context>
@.planning/PROJECT.md
@.planning/ROADMAP.md
@.planning/phases/07-code-splitting/07-01-SUMMARY.md
@app/page.tsx
</context>

<tasks>

<task type="auto">
  <name>Task 1: Extract experience data and timeline component</name>
  <files>
    data/experience.ts
    components/sections/experience-timeline.tsx
  </files>
  <action>
**Create `data/experience.ts`:**

1. Define and export an `ExperienceItem` type:

```typescript
export type ExperienceItem = {
  id: string;
  dateRange: string;
  company: string;
  role: string;
  color: string; // Tailwind color class (e.g., "orange", "blue", "purple")
  achievements: string[];
};
```

2. Export the `experienceData` array with the 3 experience items currently hardcoded in page.tsx (lines 285-347):

```typescript
export const experienceData: ExperienceItem[] = [
  {
    id: "intenseye",
    dateRange: "06/2022 — 11/2025",
    company: "INTENSEYE",
    role: "Senior Front-end Engineer",
    color: "orange",
    achievements: [
      "Enterprise safety dashboards with React & ECharts",
      "Shadcn-based design system for the organization",
      "ReactFlow scenario builder with AI integration",
      "React Query rollout - 30% fewer bugs",
    ],
  },
  {
    id: "layermark",
    dateRange: "06/2021 — 04/2022",
    company: "LAYERMARK",
    role: "Software Engineer",
    color: "blue",
    achievements: [
      "Geospatial visualizations with Vue.js & ArcGIS",
      "Spring Boot service for no-code platform",
      "Client satisfaction improved by 30%",
    ],
  },
  {
    id: "bilkent",
    dateRange: "09/2018 — 06/2022",
    company: "BILKENT UNIVERSITY",
    role: "B.Sc. Computer Science",
    color: "purple",
    achievements: [
      "NITO exam monitoring system",
      "RISK game with design patterns",
      "Hospital database management lead",
    ],
  },
];
```

**Create `components/sections/experience-timeline.tsx`:**

1. Add "use client" directive (uses framer-motion)
2. Import motion from framer-motion
3. Import experienceData and ExperienceItem from @/data/experience
4. Create and export `ExperienceTimeline` component that renders the entire experience section (lines 271-350 from page.tsx)

The component should:

- Include the section wrapper with py-24 bg-stone-950
- Include the header with "Journey" label and "EXPERIENCE" title
- Include the timeline line
- Map over experienceData to render each experience item
- Use Tailwind color classes dynamically (e.g., `bg-${item.color}-500` for the dot, `text-${item.color}-500` for the role)

NOTE: Tailwind purges unused classes. Use safelist in tailwind config OR use explicit class mappings:

```typescript
const colorMap = {
  orange: { bg: "bg-orange-500", text: "text-orange-500" },
  blue: { bg: "bg-blue-500", text: "text-blue-500" },
  purple: { bg: "bg-purple-500", text: "text-purple-500" },
};
```

  </action>
  <verify>
- Files exist: `ls data/experience.ts components/sections/experience-timeline.tsx`
- TypeScript compiles: `npx tsc --noEmit data/experience.ts components/sections/experience-timeline.tsx`
- Has 3 experience items: `grep -c "id:" data/experience.ts` returns 3
  </verify>
  <done>data/experience.ts exports ExperienceItem type and experienceData array with 3 items. components/sections/experience-timeline.tsx exports ExperienceTimeline component that renders the full timeline section.</done>
</task>

<task type="auto">
  <name>Task 2: Extract metrics section component</name>
  <files>components/sections/metrics-section.tsx</files>
  <action>
**Create `components/sections/metrics-section.tsx`:**

1. Add "use client" directive (uses framer-motion)
2. Import motion from framer-motion
3. Import RESUME_DATA from @/data/resume-data
4. Import AnimatedCounter from @/components/animated-counter
5. Create and export `MetricsSection` component that renders the entire metrics section (lines 352-405 from page.tsx)

The component should:

- Include the section wrapper with py-24 bg-black
- Include the header with "Impact" label and "MEASURABLE RESULTS" title
- Include the horizontal scroll container
- Map over RESUME_DATA.metrics to render each metric card
- Use AnimatedCounter for numeric values (same logic as current page.tsx)

The MetricsSection component is fully self-contained - it imports its own data (RESUME_DATA.metrics) and dependencies (AnimatedCounter).
</action>
<verify>

- File exists: `ls components/sections/metrics-section.tsx`
- TypeScript compiles: `npx tsc --noEmit components/sections/metrics-section.tsx`
- Imports AnimatedCounter: `grep "AnimatedCounter" components/sections/metrics-section.tsx`
  </verify>
  <done>components/sections/metrics-section.tsx exports MetricsSection component that renders the full metrics section with animated counters.</done>
  </task>

<task type="auto">
  <name>Task 3: Update page.tsx to use extracted sections</name>
  <files>app/page.tsx</files>
  <action>
Modify `app/page.tsx`:

1. **Add new imports** (after existing section imports like GraphSection):

```typescript
import { ExperienceTimeline } from "@/components/sections/experience-timeline";
import { MetricsSection } from "@/components/sections/metrics-section";
```

2. **Remove AnimatedCounter import** - it's now only used inside MetricsSection, not directly in page.tsx

3. **Replace Experience timeline section (lines 271-350)** with:

```tsx
<ExperienceTimeline />
```

4. **Replace Metrics section (lines 352-405)** with:

```tsx
<MetricsSection />
```

5. **Clean up imports:**
   - Remove `AnimatedCounter` from imports (no longer used directly)
   - Keep all other imports unchanged

6. **Verify line count reduction:**
   - Original: 520 lines
   - Experience section: ~80 lines removed, +1 line for component
   - Metrics section: ~54 lines removed, +1 line for component
   - Expected result: ~388 lines (under 400)
     </action>
     <verify>

- Line count check: `wc -l app/page.tsx` shows under 400 lines
- Build succeeds: `npm run build`
- No TypeScript errors: `npx tsc --noEmit`
  </verify>
  <done>page.tsx imports ExperienceTimeline and MetricsSection, uses them in place of inline JSX, and is under 400 lines. Application builds and renders identically.</done>
  </task>

</tasks>

<verification>
1. All new files exist and export expected items
2. `npm run build` succeeds with no errors
3. `npm run dev` - page renders identically to before (visual check)
4. `wc -l app/page.tsx` returns under 400
5. All imports resolve correctly (no TypeScript errors)
6. Experience timeline displays 3 items with correct colors
7. Metrics section shows animated counters correctly
</verification>

<success_criteria>

- [ ] data/experience.ts exports experienceData array with 3 items and ExperienceItem type
- [ ] components/sections/experience-timeline.tsx exports ExperienceTimeline component
- [ ] components/sections/metrics-section.tsx exports MetricsSection component
- [ ] page.tsx imports from all new section files
- [ ] page.tsx is under 400 lines
- [ ] `npm run build` passes
- [ ] Application renders identically (visual parity)
      </success_criteria>

<output>
After completion, create `.planning/phases/07-code-splitting/07-02-SUMMARY.md`
</output>
