---
phase: 10-client-boundary-extraction
plan: 05
type: execute
wave: 2
depends_on: [10-04]
files_modified:
  - components/sections/metrics-section.tsx
  - components/sections/experience-timeline.tsx
  - components/sections/tech-and-code-section.tsx
  - components/page-content.tsx
autonomous: true
gap_closure: true

must_haves:
  truths:
    - "MetricsSection accepts a metrics array as prop and does NOT import RESUME_DATA"
    - "ExperienceTimeline accepts an experiences array as prop and does NOT import experienceData"
    - "TechAndCodeSection accepts a categories array as prop and does NOT import techCategories"
    - "page-content.tsx imports static data from @/data/* modules and passes it to section wrappers as props"
  artifacts:
    - path: "components/sections/metrics-section.tsx"
      provides: "Metrics wrapper accepting data as props"
      contains: "metrics:"
    - path: "components/sections/experience-timeline.tsx"
      provides: "Experience timeline wrapper accepting data as props"
      contains: "experiences:"
    - path: "components/sections/tech-and-code-section.tsx"
      provides: "Tech stack wrapper accepting categories and commits as props"
      contains: "categories:"
    - path: "components/page-content.tsx"
      provides: "Orchestrator that imports data and passes to sections"
      contains: "RESUME_DATA"
  key_links:
    - from: "components/page-content.tsx"
      to: "components/sections/metrics-section.tsx"
      via: "metrics prop from RESUME_DATA.metrics"
      pattern: "metrics=\\{RESUME_DATA\\.metrics\\}"
    - from: "components/page-content.tsx"
      to: "components/sections/experience-timeline.tsx"
      via: "experiences prop from experienceData"
      pattern: "experiences=\\{experienceData\\}"
    - from: "components/page-content.tsx"
      to: "components/sections/tech-and-code-section.tsx"
      via: "categories prop from techCategories"
      pattern: "categories=\\{techCategories\\}"
---

<objective>
Refactor MetricsSection, ExperienceTimeline, and TechAndCodeSection to accept static data as props instead of importing it internally. Update page-content.tsx to be the data-passing orchestrator.

Purpose: Phase 10 success criteria #2 requires wrapper components to "accept static content as props/children -- they don't fetch data or define content." Currently all three sections import their own data from @/data/\* modules. This plan inverts the dependency so data flows from the parent (eventually a server component) through props.

Output: Three refactored section components with props interfaces, and page-content.tsx importing data and passing it down.
</objective>

<execution_context>
@/Users/sunny/.claude/get-shit-done/workflows/execute-plan.md
@/Users/sunny/.claude/get-shit-done/templates/summary.md
</execution_context>

<context>
@.planning/PROJECT.md
@.planning/ROADMAP.md
@.planning/phases/10-client-boundary-extraction/10-04-SUMMARY.md
@components/page-content.tsx
@components/sections/metrics-section.tsx
@components/sections/experience-timeline.tsx
@components/sections/tech-and-code-section.tsx
@data/resume-data.ts
@data/experience.ts
@data/tech-stack.ts
</context>

<tasks>

<task type="auto">
  <name>Task 1: Refactor MetricsSection and ExperienceTimeline to accept data props</name>
  <files>components/sections/metrics-section.tsx, components/sections/experience-timeline.tsx</files>
  <action>
**MetricsSection (components/sections/metrics-section.tsx):**

1. Define a `Metric` type matching the shape used from RESUME_DATA.metrics. The metrics objects have: `id: string`, `label: string`, `value: string`, `context: string`, `company: string`. Only include the fields the component actually uses (id, label, value, context, company). Export the type for reuse.

2. Add props interface:

```typescript
type MetricsSectionProps = {
  metrics: Metric[];
};
```

3. Change `export function MetricsSection()` to `export function MetricsSection({ metrics }: MetricsSectionProps)`.

4. Remove the `import { RESUME_DATA } from "@/data/resume-data"` line.

5. Replace `RESUME_DATA.metrics.map(...)` with `metrics.map(...)`.

**ExperienceTimeline (components/sections/experience-timeline.tsx):**

1. Add props interface:

```typescript
type ExperienceTimelineProps = {
  experiences: ExperienceItem[];
};
```

2. Change `export function ExperienceTimeline()` to `export function ExperienceTimeline({ experiences }: ExperienceTimelineProps)`.

3. Remove the data import portion from line 4. Keep the `type ExperienceItem` import -- change it to `import type { ExperienceItem } from "@/data/experience"`. The type-only import is fine (types are erased at build time and don't affect the client boundary).

4. Replace `experienceData.map(...)` with `experiences.map(...)`.
5. Replace `experienceData.length` with `experiences.length` (used for isLast check).

**Do NOT change:** Keep "use client" directive, keep framer-motion imports, keep all JSX/styling unchanged.
</action>
<verify> - `grep "RESUME_DATA" components/sections/metrics-section.tsx` returns no matches (import removed) - `grep "experienceData" components/sections/experience-timeline.tsx` returns no matches (import removed, only type import remains) - `grep "metrics:" components/sections/metrics-section.tsx` confirms prop exists - `grep "experiences:" components/sections/experience-timeline.tsx` confirms prop exists - TypeScript types are correct (no `any` usage)
</verify>
<done>MetricsSection accepts metrics[] prop, ExperienceTimeline accepts experiences[] prop, neither imports static data directly</done>
</task>

<task type="auto">
  <name>Task 2: Refactor TechAndCodeSection and wire all data in page-content.tsx</name>
  <files>components/sections/tech-and-code-section.tsx, components/page-content.tsx</files>
  <action>
**TechAndCodeSection (components/sections/tech-and-code-section.tsx):**

1. Add `categories` to the existing props type (it already has `commits`):

```typescript
import type { TechCategory } from "@/data/tech-stack";
import type { RedactedCommit } from "@/lib/github";

type TechAndCodeSectionProps = {
  categories: TechCategory[];
  commits: RedactedCommit[];
};
```

2. Change the function signature to destructure `categories` alongside `commits`:

```typescript
export function TechAndCodeSection({
  categories,
  commits,
}: TechAndCodeSectionProps);
```

3. Remove the data import: `import { techCategories } from "@/data/tech-stack"`. Replace with type-only import: `import type { TechCategory } from "@/data/tech-stack"`.

4. The module-level `categoryOffsets` computation currently uses `techCategories` directly. Change it to be computed inside the component using the `categories` prop:

```typescript
const categoryOffsets = categories.reduce<number[]>((acc, cat, i) => {
  acc.push(i === 0 ? 0 : acc[i - 1] + categories[i - 1].items.length);
  return acc;
}, []);
```

Move this inside the function body (first line after destructuring). This is fine because it's a cheap O(n) computation on a small array (5 categories).

5. Replace all references to `techCategories` in JSX with `categories`.

**page-content.tsx:**

1. Add data imports at the top of the file:

```typescript
import { RESUME_DATA } from "@/data/resume-data";
import { experienceData } from "@/data/experience";
import { techCategories } from "@/data/tech-stack";
```

2. Pass data as props to each section component:

- `<MetricsSection metrics={RESUME_DATA.metrics} />`
- `<ExperienceTimeline experiences={experienceData} />`
- `<TechAndCodeSection categories={techCategories} commits={commits} />`

Note: page-content.tsx is "use client" so these imports work fine (they're static data modules). In Phase 11 when page.tsx becomes the server component, data imports will move from page-content.tsx to page.tsx and flow through PageContent props.

3. Build and verify no type errors.
   </action>
   <verify> - `grep "import { techCategories }" components/sections/tech-and-code-section.tsx` returns no matches (data import removed) - `grep "categories:" components/sections/tech-and-code-section.tsx` confirms prop exists - `grep "RESUME_DATA" components/page-content.tsx` confirms data import present - `grep "experienceData" components/page-content.tsx` confirms data import present - `grep "techCategories" components/page-content.tsx` confirms data import present - `grep "metrics={" components/page-content.tsx` confirms prop passing - `grep "experiences={" components/page-content.tsx` confirms prop passing - `grep "categories={" components/page-content.tsx` confirms prop passing - `npx next build` succeeds without errors
   </verify>
   <done>TechAndCodeSection accepts categories[] prop, page-content.tsx imports all static data and passes to section wrappers via props, build passes cleanly</done>
   </task>

</tasks>

<verification>
1. `npx next build` completes without errors
2. No section component imports data directly:
   - `grep -rn "import.*RESUME_DATA" components/sections/` returns NO matches
   - `grep -rn "import { experienceData" components/sections/` returns NO matches
   - `grep -rn "import { techCategories" components/sections/` returns NO matches
3. All section components accept data as props:
   - `grep "metrics:" components/sections/metrics-section.tsx`
   - `grep "experiences:" components/sections/experience-timeline.tsx`
   - `grep "categories:" components/sections/tech-and-code-section.tsx`
4. page-content.tsx imports data and passes to all sections:
   - `grep "RESUME_DATA\|experienceData\|techCategories" components/page-content.tsx` shows all three imports
5. All sections still have "use client" directive and framer-motion animations
</verification>

<success_criteria>

- MetricsSection, ExperienceTimeline, and TechAndCodeSection all accept data as props
- No section component imports static data directly (only type-only imports for TypeScript types)
- page-content.tsx is the data orchestrator, importing from @/data/\* and passing to wrappers
- Build passes, all animations preserved (framer-motion untouched)
  </success_criteria>

<output>
After completion, create `.planning/phases/10-client-boundary-extraction/10-05-SUMMARY.md`
</output>
