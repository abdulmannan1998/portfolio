---
phase: 10-section-animation-migration
plan: 02
type: execute
wave: 1
depends_on: []
files_modified:
  - components/sections/experience-timeline.tsx
  - components/sections/tech-and-code-section.tsx
autonomous: true

must_haves:
  truths:
    - "Experience timeline entries fade in from the left with stagger when scrolled into view"
    - "Experience timeline has no framer-motion import"
    - "Tech stack category headers and items animate in when the section enters the viewport"
    - "Tech stack section has no framer-motion import"
  artifacts:
    - path: "components/sections/experience-timeline.tsx"
      provides: "Timeline entries with CSS scroll animations replacing motion.div"
      contains: "fade-in-left"
    - path: "components/sections/tech-and-code-section.tsx"
      provides: "Tech stack items with CSS scroll animations replacing motion.h3 and motion.div"
      contains: "fade-in-up"
  key_links:
    - from: "components/sections/experience-timeline.tsx"
      to: "app/globals.css"
      via: "CSS animation classes on timeline entries"
      pattern: "fade-in-left.*--stagger-index"
    - from: "components/sections/tech-and-code-section.tsx"
      to: "app/globals.css"
      via: "CSS animation classes on tech items"
      pattern: "(fade-in-left|fade-in-up).*--stagger-index"
    - from: "components/sections/experience-timeline.tsx"
      to: "hooks/use-scroll-animation.ts"
      via: "initScrollAnimations for IO polyfill"
      pattern: "initScrollAnimations"
    - from: "components/sections/tech-and-code-section.tsx"
      to: "hooks/use-scroll-animation.ts"
      via: "initScrollAnimations for IO polyfill"
      pattern: "initScrollAnimations"
---

<objective>
Migrate experience timeline and tech stack section from framer-motion to CSS scroll-driven animations.

Purpose: Remove framer-motion dependency from the remaining two of four target sections, completing the Phase 10 animation migration using CSS keyframe infrastructure from Phase 9.
Output: Experience timeline entries use CSS fade-in-left with stagger. Tech stack headers and items use CSS animation classes with stagger delays.
</objective>

<execution_context>
@/Users/sunny/.claude/get-shit-done/workflows/execute-plan.md
@/Users/sunny/.claude/get-shit-done/templates/summary.md
</execution_context>

<context>
@.planning/PROJECT.md
@.planning/ROADMAP.md
@.planning/STATE.md
@.planning/phases/09-animation-foundation/09-01-SUMMARY.md
@components/sections/experience-timeline.tsx
@components/sections/tech-and-code-section.tsx
@app/globals.css
@hooks/use-scroll-animation.ts
@data/experience.ts
@data/tech-stack.ts
</context>

<tasks>

<task type="auto">
  <name>Task 1: Migrate experience timeline to CSS animations</name>
  <files>components/sections/experience-timeline.tsx</files>
  <action>
In components/sections/experience-timeline.tsx, replace framer-motion motion.div with a regular div using CSS animation classes.

Current pattern (line 31-52):

```
<motion.div
  key={item.id}
  initial={{ opacity: 0, x: -30 }}
  whileInView={{ opacity: 1, x: 0 }}
  className={`relative pl-12 ${isLast ? "" : "pb-16"}`}
>
```

Replace with:

```
<div
  key={item.id}
  className={`relative pl-12 ${isLast ? "" : "pb-16"} fade-in-left`}
  style={{ '--stagger-index': index } as React.CSSProperties}
>
```

The current framer-motion has no explicit delay between entries -- they all trigger independently via whileInView. Adding stagger-index with 0.1s per entry (0s, 0.1s, 0.2s for 3 entries) provides subtle sequential reveal that feels natural for a timeline. The CSS fade-in-left class matches the current x: -30 translateX direction.

After replacing, remove the framer-motion import: `import { motion } from "framer-motion"`.

Add IO polyfill support:

- Add `import { useEffect } from "react";`
- Add `import { initScrollAnimations } from "@/hooks/use-scroll-animation";`
- Add useEffect at top of ExperienceTimeline function body:

```
useEffect(() => {
  const cleanup = initScrollAnimations();
  return cleanup;
}, []);
```

Keep `"use client"` directive because the useEffect for initScrollAnimations requires client execution.
</action>
<verify>
Run `npx next build` to confirm no build errors. Grep for `framer-motion` in components/sections/experience-timeline.tsx -- should return zero matches. Grep for `motion` in the same file -- should return zero matches (except comments if any). Verify the file contains `fade-in-left` and `initScrollAnimations`.
</verify>
<done>
Experience timeline entries use CSS fade-in-left with stagger-index for sequential entrance from the left. No framer-motion import or usage remains. IO polyfill initialized. Build passes.
</done>
</task>

<task type="auto">
  <name>Task 2: Migrate tech stack section to CSS animations</name>
  <files>components/sections/tech-and-code-section.tsx</files>
  <action>
In components/sections/tech-and-code-section.tsx, replace two types of framer-motion elements with CSS animation classes.

**Element 1: Category headers (motion.h3)** -- lines 44-52:

```
<motion.h3
  initial={{ x: -30, opacity: 0 }}
  whileInView={{ x: 0, opacity: 1 }}
  viewport={{ once: true }}
  transition={{ delay: catIndex * 0.1 }}
  className="text-2xl md:text-3xl font-black text-orange-500/25 uppercase leading-none mb-3"
>
```

Replace with:

```
<h3
  className="text-2xl md:text-3xl font-black text-orange-500/25 uppercase leading-none mb-3 fade-in-left"
  style={{ '--stagger-index': catIndex } as React.CSSProperties}
>
```

This gives 0s, 0.1s, 0.2s, 0.3s, 0.4s delays per category (5 categories), matching the current `catIndex * 0.1` pattern.

**Element 2: Tech items (motion.div)** -- lines 57-77:

```
<motion.div
  key={tech.name}
  initial={{ opacity: 0, y: 6 }}
  whileInView={{ opacity: 1, y: 0 }}
  viewport={{ once: true }}
  transition={{ delay: (categoryStartIndex + index) * 0.03, duration: 0.3 }}
  className="flex items-center gap-2 cursor-default group"
>
```

Replace with:

```
<div
  key={tech.name}
  className="flex items-center gap-2 cursor-default group fade-in-up"
  style={{ '--stagger-index': categoryStartIndex + index } as React.CSSProperties}
>
```

The current delay uses `(categoryStartIndex + index) * 0.03`. With the default CSS stagger step of 0.1s, this would be too slow for 27 items (2.7s total). To keep snappy timing closer to the original 0.03s per item, add a new CSS utility class in this component using a style tag or inline approach.

Actually, the better approach: use a tighter stagger by computing the delay inline. The CSS --stagger-index variable is multiplied by 0.1s in globals.css. For 27 items at 0.1s each, that is 2.7s total. The original was 27 \* 0.03 = 0.81s total.

Two approaches:
A) Override the animation-delay directly in the inline style (cleanest for this case)
B) Change the stagger step

Use approach A: Set animation-delay directly in the inline style instead of using --stagger-index:

```
<div
  key={tech.name}
  className="flex items-center gap-2 cursor-default group fade-in-up"
  style={{ animationDelay: `${(categoryStartIndex + index) * 0.03}s` } as React.CSSProperties}
>
```

This directly matches the original 0.03s per-item stagger without modifying global CSS or overcomplicating things. The animation-delay inline style overrides the calc() from the CSS class.

For category headers, keep --stagger-index approach (0.1s step works well for 5 categories).

After replacing both element types, remove the framer-motion import: `import { motion } from "framer-motion"`.

The `categoryOffsets` calculation at the top of the file is still needed for the stagger delay computation, so keep it.

Add IO polyfill support:

- Add `import { useEffect } from "react";`
- Add `import { initScrollAnimations } from "@/hooks/use-scroll-animation";`
- Add useEffect at top of TechAndCodeSection function body:

```
useEffect(() => {
  const cleanup = initScrollAnimations();
  return cleanup;
}, []);
```

Keep `"use client"` directive because GitHubActivity is a client component imported here and useEffect requires client execution.
</action>
<verify>
Run `npx next build` to confirm no build errors. Grep for `framer-motion` in components/sections/tech-and-code-section.tsx -- should return zero matches. Grep for `motion.h3` or `motion.div` in the same file -- should return zero matches. Verify the file contains `fade-in-left`, `fade-in-up`, and `initScrollAnimations`.
</verify>
<done>
Tech stack category headers use CSS fade-in-left with stagger-index. Tech items use CSS fade-in-up with 0.03s per-item animation-delay matching original timing. No framer-motion import or usage remains. IO polyfill initialized. Build passes.
</done>
</task>

</tasks>

<verification>
1. `npx next build` completes without errors
2. `grep -c "framer-motion" components/sections/experience-timeline.tsx` returns 0
3. `grep -c "framer-motion" components/sections/tech-and-code-section.tsx` returns 0
4. `grep -c "fade-in-left" components/sections/experience-timeline.tsx` returns at least 1
5. `grep -c "fade-in-left" components/sections/tech-and-code-section.tsx` returns at least 1
6. `grep -c "fade-in-up" components/sections/tech-and-code-section.tsx` returns at least 1
7. `grep -c "initScrollAnimations" components/sections/experience-timeline.tsx` returns at least 1
8. `grep -c "initScrollAnimations" components/sections/tech-and-code-section.tsx` returns at least 1
</verification>

<success_criteria>

- Experience timeline entries animate on scroll using CSS fade-in-left with stagger
- Tech stack headers animate with fade-in-left, items animate with fade-in-up
- Tech stack item stagger uses 0.03s per item matching original framer-motion timing
- No framer-motion dependency remains in either file
- IO polyfill provides fallback for browsers without animation-timeline support
- Build passes clean
  </success_criteria>

<output>
After completion, create `.planning/phases/10-section-animation-migration/10-02-SUMMARY.md`
</output>
